!function(e){function t(a){if(r[a])return r[a].exports;var o=r[a]={exports:{},id:a,loaded:!1};return e[a].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){!function(){if(!AFRAME)return void console.error("Component attempted to register before AFRAME was available.");var e={stereo:r(1).stereo_component,stereocam:r(1).stereocam_component};Object.keys(e).forEach(function(t){AFRAME.aframeCore?AFRAME.aframeCore.registerComponent(t,e[t]):AFRAME.registerComponent(t,e[t])})}()},function(e,t){e.exports={stereo_component:{schema:{eye:{type:"string","default":"left"},mode:{type:"string","default":"full"}},init:function(){var e=this.el.object3D;if(e.geometry instanceof THREE.SphereGeometry&&"map"in e.material&&e.material.map instanceof THREE.VideoTexture){var t=this;if(this.videoEl=document.querySelector(this.el.components.material.textureSrc),this.el.sceneEl.canvas.onclick=function(){t.videoEl.play()},"half"===this.data.mode){var r=this.el.getAttribute("geometry"),a=new THREE.SphereGeometry(r.radius||100,r.segmentsWidth||64,r.segmentsHeight||64,Math.PI/2,Math.PI,0,Math.PI);e.geometry=a,e.rotation.y=-Math.PI/2}if("left"===this.data.eye)for(var o=e.geometry.faceVertexUvs[0],n=0;n<o.length;n++)for(var i=0;3>i;i++)o[n][i].x*=.5;if("right"===this.data.eye)for(var o=e.geometry.faceVertexUvs[0],n=0;n<o.length;n++)for(var i=0;3>i;i++)o[n][i].x*=.5,o[n][i].x+=.5}},update:function(e){var t=this.el.object3D,r=this.data;"both"===r.eye?t.layers.set(0):t.layers.set("left"===r.eye?1:2)}},stereocam_component:{schema:{eye:{type:"string","default":"left"}},init:function(){this.el.sceneEl.addBehavior(this),this.layer_changed=!1},tick:function(e){var t=this.data;if(!this.layer_changed){var r=[];this.el.object3D.children.forEach(function(e,t,a){r[t]=e.type});var a=r.indexOf("PerspectiveCamera"),o=this.el.object3D.children[a];"both"===t.eye?(o.layers.enable(1),o.layers.enable(2)):o.layers.enable("left"===t.eye?1:2)}}}}}]);