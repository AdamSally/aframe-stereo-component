!function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={exports:{},id:n,loaded:!1};return e[n].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){!function(){if(!AFRAME)return void console.error("Component attempted to register before AFRAME was available.");var e={stereo:r(1).stereo_component,stereocam:r(1).stereocam_component};Object.keys(e).forEach(function(t){AFRAME.aframeCore?AFRAME.aframeCore.registerComponent(t,e[t]):AFRAME.registerComponent(t,e[t])})}()},function(e,t){e.exports={stereo_component:{schema:{eye:{type:"string","default":"left"},mode:{type:"string","default":"full"}},init:function(){var e=this.el.object3D;if(e.geometry instanceof THREE.SphereGeometry&&"map"in e.material&&e.material.map instanceof THREE.VideoTexture){var t=this;if(this.videoEl=document.querySelector(this.el.components.material.textureSrc),this.el.sceneEl.canvas.onclick=function(){t.videoEl.play()},"half"===this.data.mode){var r=this.el.getAttribute("geometry"),n=new THREE.SphereGeometry(r.radius||100,r.segmentsWidth||64,r.segmentsHeight||64,Math.PI/2,Math.PI,0,Math.PI);e.geometry=n,e.rotation.y=-Math.PI/2}if("left"===this.data.eye)for(var a=e.geometry.faceVertexUvs[0],i=0;i<a.length;i++)for(var o=0;3>o;o++)a[i][o].x*=.5;if("right"===this.data.eye)for(var a=e.geometry.faceVertexUvs[0],i=0;i<a.length;i++)for(var o=0;3>o;o++)a[i][o].x*=.5,a[i][o].x+=.5}},update:function(e){var t=this.el.object3D,r=this.data;"both"===r.eye?t.layers.set(0):t.layers.set("left"===r.eye?1:2)}},stereocam_component:{schema:{eye:{type:"string","default":"left"}},init:function(){this.el.sceneEl.addBehavior(this),this.layer_changed=!1},update:function(e){var t=this.el.object3D,r=this.data;if(!this.layer_changed&&"children"in t&&t.children.length>0&&"children"in t.children[0]&&t.children[0].children.length>0&&"children"in t.children[0].children[0]&&t.children[0].children[0].children.length>0){var n=t.children[0].children[0].children[0];"PerspectiveCamera"===n.type&&("both"===r.eye?(n.layers.enable(1),n.layers.enable(2)):n.layers.enable("left"===r.eye?1:2),this.layer_changed=!0)}}}}}]);